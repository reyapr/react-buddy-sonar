- pipeline: 'Build and test on every PR'
  trigger_mode: 'ON_EVERY_PUSH'
  ref_name: 'refs/heads/*'
  ref_type: 'WILDCARD'
  trigger_condition: 'ALWAYS'
  auto_clear_cache: true
  actions:
    - action: 'Execute: npm run lint, npm test, npm run build'
      type: 'BUILD'
      working_directory: '/buddy/sonar'
      docker_image_name: 'library/node'
      docker_image_tag: '12.18.3'
      execute_commands:
        - 'npm install'
        - 'npm test'
      volume_mappings:
        - '/:/buddy/sonar'
      trigger_condition: 'ALWAYS'
      shell: 'BASH'

